{"ast":null,"code":"import React,{useReducer,useEffect,useCallback}from\"react\";import{Streamlit}from\"streamlit-component-lib\";import{useRenderData}from\"../utils/StreamlitProvider\";import{initialState,reducer}from\"../reducers/highlightReducer\";import{isHighlighted,removeHighlight,getCharactersCountUntilNode,adjustSelectionBounds}from\"../helpers/highlightHelpers\";import{ActionTypes}from\"../types/highlightTypes\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Highlighter=()=>{const{args}=useRenderData();const[state,dispatch]=useReducer(reducer,initialState);useEffect(()=>{const fetchData=async()=>{const{text,highlights,nhighlights}=args;dispatch({type:ActionTypes.SET_TEXT_HIGHLIGHTS,payload:{text,highlights,nhighlights}});dispatch({type:ActionTypes.RENDER_TEXT});Streamlit.setComponentValue(highlights);Streamlit.setComponentValue(nhighlights);};fetchData();},[]);useEffect(()=>{dispatch({type:ActionTypes.RENDER_TEXT});},[state.highlights,state.nhighlights,state.selectedReference]);const handleMouseUp=useCallback(async()=>{var _document$getSelectio;const selection=(_document$getSelectio=document.getSelection())===null||_document$getSelectio===void 0?void 0:_document$getSelectio.getRangeAt(0);if(selection&&selection.toString().trim()!==\"\"){const container=document.getElementById(\"actual-text\");const charsBeforeStart=getCharactersCountUntilNode(selection.startContainer,container);const charsBeforeEnd=getCharactersCountUntilNode(selection.endContainer,container);const finalStartIndex=selection.startOffset+charsBeforeStart;const finalEndIndex=selection.endOffset+charsBeforeEnd;const textContent=(container===null||container===void 0?void 0:container.textContent)||\"\";const{start,end}=adjustSelectionBounds(textContent,finalStartIndex,finalEndIndex);const selectedText=textContent.slice(start,end);const label=state.selectedReference.charAt(0);const index=Number(state.selectedReference.slice(1));if(label===\"N\"){let selectedHighlight=state.nhighlights[index];}else{let selectedHighlight=state.highlights[index];}if(isHighlighted(finalStartIndex,finalEndIndex,selectedHighlight)){const highlights=removeHighlight(start,end,selectedHighlight);if(label===\"N\"){const newNHighlights=[...state.nhighlights];newNHighlights[index]=highlights;dispatch({type:ActionTypes.SET_TEXT_HIGHLIGHTS,payload:{text:state.text,highlights:[...state.highlights],nhighlights:newNHighlights}});}else{const newHighlights=[...state.highlights];newHighlights[index]=highlights;dispatch({type:ActionTypes.SET_TEXT_HIGHLIGHTS,payload:{text:state.text,highlights:newHighlights,nhighlights:[...state.nhighlights]}});}}else{const newHighlight={start,end,label:selectedText};if(label===\"N\"){const newNHighlights=[...state.nhighlights];newNHighlights[index]=[...newnHighlights[index],newnHighlight];dispatch({type:ActionTypes.SET_TEXT_HIGHLIGHTS,payload:{text:state.text,highlights:[...state.highlights],nhighlights:newNHighlights}});}else{const newHighlights=[...state.highlights];newHighlights[index]=[...newHighlights[index],newHighlight];dispatch({type:ActionTypes.SET_TEXT_HIGHLIGHTS,payload:{text:state.text,highlights:newHighlights,nhighlights:[...state.nhighlights]}});}}}},[state,dispatch]);const addReference=label=>{dispatch({type:ActionTypes.ADD_REFERENCE,payload:label});};const selectReference=index=>{const label=index.charAt(0);const hindex=Number(index.slice(1));dispatch({type:ActionTypes.SELECT_REFERENCE,payload:[label,hindex]});};const removeReference=index=>{const label=index.charAt(0);const hindex=Number(index.slice(1));dispatch({type:ActionTypes.REMOVE_REFERENCE,payload:[label,hindex]});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-white text-base bg-primary hover:bg-secondary\",onClick:addReference(\"P\"),children:/*#__PURE__*/_jsx(\"span\",{children:\"+\"})}),state.highlights.map((reference,pindex)=>/*#__PURE__*/_jsxs(\"span\",{className:\"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-base\"+(state.selectedReference===\"P\"+pindex?\" bg-primary hover:bg-secondary text-white\":\" border border-primary text-primary hover:bg-primary hover:text-white\"),onClick:()=>selectReference(\"P\"+pindex),children:[\"P\",pindex+1,/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 ml-3 hover:text-gray-300\",viewBox:\"0 0 20 20\",fill:\"currentColor\",onClick:()=>removeReference(\"P\"+pindex),children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"})})]},`Evidence-P${pindex}`))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-white text-base bg-nprimary hover:bg-nsecondary\",onClick:addReference(\"N\"),children:/*#__PURE__*/_jsx(\"span\",{children:\"+\"})}),state.nhighlights.map((reference,nindex)=>/*#__PURE__*/_jsxs(\"span\",{className:\"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-base\"+(state.selectedReference===\"N\"+nindex?\" bg-nprimary hover:bg-nsecondary text-white\":\" border border-nprimary text-nprimary hover:bg-nprimary hover:text-white\"),onClick:()=>selectReference(\"N\"+nindex),children:[\"N\",nindex+1,/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 ml-3 hover:text-gray-300\",viewBox:\"0 0 20 20\",fill:\"currentColor\",onClick:()=>removeReference(\"N\"+nindex),children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"})})]},`Evidence-N${nindex}`))]}),/*#__PURE__*/_jsx(\"div\",{id:\"actual-text\",className:\"mt-5 h-full\",onMouseUp:handleMouseUp,style:{whiteSpace:\"pre-wrap\"},children:state.actual_text})]});};export default Highlighter;","map":{"version":3,"names":["React","useReducer","useEffect","useCallback","Streamlit","useRenderData","initialState","reducer","isHighlighted","removeHighlight","getCharactersCountUntilNode","adjustSelectionBounds","ActionTypes","jsx","_jsx","jsxs","_jsxs","Highlighter","args","state","dispatch","fetchData","text","highlights","nhighlights","type","SET_TEXT_HIGHLIGHTS","payload","RENDER_TEXT","setComponentValue","selectedReference","handleMouseUp","_document$getSelectio","selection","document","getSelection","getRangeAt","toString","trim","container","getElementById","charsBeforeStart","startContainer","charsBeforeEnd","endContainer","finalStartIndex","startOffset","finalEndIndex","endOffset","textContent","start","end","selectedText","slice","label","charAt","index","Number","selectedHighlight","newNHighlights","newHighlights","newHighlight","newnHighlights","newnHighlight","addReference","ADD_REFERENCE","selectReference","hindex","SELECT_REFERENCE","removeReference","REMOVE_REFERENCE","children","className","onClick","map","reference","pindex","xmlns","viewBox","fill","fillRule","d","nindex","id","onMouseUp","style","whiteSpace","actual_text"],"sources":["/mnt/c/Users/ndeas/Desktop/Columbia/Research/Diverse Perspective Summarization/improving_coverage/perspective_summarization_streamlit/utils/highlighter/frontend/src/components/Highlighter.tsx"],"sourcesContent":["import React, { useReducer, useEffect, useCallback } from \"react\"\nimport { Streamlit } from \"streamlit-component-lib\"\nimport { useRenderData } from \"../utils/StreamlitProvider\"\nimport { initialState, reducer } from \"../reducers/highlightReducer\"\nimport {\n  isHighlighted,\n  removeHighlight,\n  getCharactersCountUntilNode,\n  adjustSelectionBounds,\n} from \"../helpers/highlightHelpers\"\nimport { IState, ActionTypes, IAction } from \"../types/highlightTypes\"\n\nconst Highlighter: React.FC = () => {\n  const { args } = useRenderData()\n  const [state, dispatch] = useReducer<React.Reducer<IState, IAction>>(\n    reducer,\n    initialState\n  )\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { text, highlights, nhighlights } = args\n      dispatch({\n        type: ActionTypes.SET_TEXT_HIGHLIGHTS,\n        payload: { text, highlights, nhighlights },\n      })\n      dispatch({ type: ActionTypes.RENDER_TEXT })\n      Streamlit.setComponentValue(highlights)\n      Streamlit.setComponentValue(nhighlights)\n    }\n\n    fetchData()\n  }, [])\n\n  useEffect(() => {\n    dispatch({ type: ActionTypes.RENDER_TEXT })\n  }, [state.highlights, state.nhighlights, state.selectedReference])\n\n  const handleMouseUp = useCallback(async () => {\n    const selection = document.getSelection()?.getRangeAt(0)\n\n    if (selection && selection.toString().trim() !== \"\") {\n      const container = document.getElementById(\"actual-text\")\n      const charsBeforeStart = getCharactersCountUntilNode(\n        selection.startContainer,\n        container\n      )\n      const charsBeforeEnd = getCharactersCountUntilNode(\n        selection.endContainer,\n        container\n      )\n\n      const finalStartIndex = selection.startOffset + charsBeforeStart\n      const finalEndIndex = selection.endOffset + charsBeforeEnd\n\n      const textContent = container?.textContent || \"\"\n\n      const { start, end } = adjustSelectionBounds(\n        textContent,\n        finalStartIndex,\n        finalEndIndex\n      )\n      const selectedText = textContent.slice(start, end)\n\n      const label = state.selectedReference.charAt(0)\n      const index = Number(state.selectedReference.slice(1))\n      if (label === \"N\") {\n        let selectedHighlight = state.nhighlights[index]\n      } else {\n        let selectedHighlight = state.highlights[index]\n      }\n      if (\n        isHighlighted(\n          finalStartIndex,\n          finalEndIndex,\n          selectedHighlight,\n        )\n      ) {\n        const highlights = removeHighlight(\n          start,\n          end,\n          selectedHighlight,\n        )\n        if (label === \"N\") {\n          const newNHighlights = [...state.nhighlights]\n          newNHighlights[index] = highlights\n          dispatch({\n            type: ActionTypes.SET_TEXT_HIGHLIGHTS,\n            payload: { text: state.text, highlights: [...state.highlights], nhighlights: newNHighlights },\n          })\n        } else {\n          const newHighlights = [...state.highlights]\n          newHighlights[index] = highlights\n          dispatch({\n            type: ActionTypes.SET_TEXT_HIGHLIGHTS,\n            payload: { text: state.text, highlights: newHighlights, nhighlights: [...state.nhighlights] },\n          })\n        }\n\n      } else {\n        const newHighlight = { start, end, label: selectedText }\n        if (label === \"N\") {\n          const newNHighlights = [...state.nhighlights]\n          newNHighlights[index] = [\n            ...newnHighlights[index],\n            newnHighlight,\n          ]\n          dispatch({\n            type: ActionTypes.SET_TEXT_HIGHLIGHTS,\n            payload: { text: state.text, highlights: [...state.highlights], nhighlights: newNHighlights },\n          })\n        } else {\n          const newHighlights = [...state.highlights]\n          newHighlights[index] = [\n            ...newHighlights[index],\n            newHighlight,\n          ]\n          dispatch({\n            type: ActionTypes.SET_TEXT_HIGHLIGHTS,\n            payload: { text: state.text, highlights: newHighlights, nhighlights: [...state.nhighlights] },\n          })\n        }\n      }\n    }\n  }, [state, dispatch])\n\n  const addReference = (label: string) => {\n    dispatch({ type: ActionTypes.ADD_REFERENCE, payload: label })\n  }\n\n  const selectReference = (index: string) => {\n    const label = index.charAt(0)\n    const hindex = Number(index.slice(1))\n    dispatch({ type: ActionTypes.SELECT_REFERENCE, payload: [label, hindex] })\n  }\n\n  const removeReference = (index: string) => {\n    const label = index.charAt(0)\n    const hindex = Number(index.slice(1))\n    dispatch({ type: ActionTypes.REMOVE_REFERENCE, payload: [label, hindex] })\n  }\n \n\n  return (\n    <div>\n      {/* ----- Positive Highlights ----- */}\n      <div className=\"flex flex-row flex-wrap\">\n        <div\n          className=\"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-white text-base bg-primary hover:bg-secondary\"\n          onClick={addReference(\"P\")}\n        >\n          <span>+</span>\n        </div>\n        {state.highlights.map((reference, pindex) => (\n          <span\n            key={`Evidence-P${pindex}`}\n            className={\n              \"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-base\" +\n              (state.selectedReference === \"P\" + pindex\n                ? \" bg-primary hover:bg-secondary text-white\"\n                : \" border border-primary text-primary hover:bg-primary hover:text-white\")\n            }\n            onClick={() => selectReference(\"P\" + pindex)}\n          >\n            P{pindex+1}\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5 ml-3 hover:text-gray-300\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              onClick={() => removeReference(\"P\" + pindex)}\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n              />\n            </svg>\n          </span>\n        ))}\n      </div>\n      {/* ----- Negative Highlights ----- */}\n      <div className=\"flex flex-row flex-wrap\">\n        <div\n          className=\"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-white text-base bg-nprimary hover:bg-nsecondary\"\n          onClick={addReference(\"N\")}\n        >\n          <span>+</span>\n        </div>\n        {state.nhighlights.map((reference, nindex) => (\n          <span\n            key={`Evidence-N${nindex}`}\n            className={\n              \"flex flex-wrap justify-between items-center cursor-pointer py-1 px-3 mr-2 mb-2 rounded text-base\" +\n              (state.selectedReference === \"N\" + nindex\n                ? \" bg-nprimary hover:bg-nsecondary text-white\"\n                : \" border border-nprimary text-nprimary hover:bg-nprimary hover:text-white\")\n            }\n            onClick={() => selectReference(\"N\" + nindex)}\n          >\n            N{nindex+1}\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5 ml-3 hover:text-gray-300\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              onClick={() => removeReference(\"N\" + nindex)}\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n              />\n            </svg>\n          </span>\n        ))}\n      </div>\n      <div\n        id=\"actual-text\"\n        className=\"mt-5 h-full\"\n        onMouseUp={handleMouseUp}\n        style={{ whiteSpace: \"pre-wrap\" }}\n      >\n        {state.actual_text}\n      </div>\n    </div>\n  )\n}\n\nexport default Highlighter\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}